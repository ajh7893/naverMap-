var jsonObject = [
	{"UUID":"e1ba0643-260c-4708-a544-d66571302523","inputDt":"2019-11-20 10:05:44.386128","registerNm":"","updtDt":"","updusrNm":"","fctSe":"수도꼭지 일반","inspctYear":2019,"inspctMt":1,"suplyFltpltNm":"광교정수장","fctLc":"경기도 수원시","colctDe":"2019-01-14","ttclnes":"0","ttclfms":"불검출","fcclfms":"불검출","nh3n":"0","cu":"0","zn":"0.007","cl":"20.4","fe":"0","mn":"0","recl":"0.40"},
	{"UUID":"aee259f0-c85d-4a11-9069-540402ce0e2c","inputDt":"2019-11-25 13:05:10.740545","registerNm":"","updtDt":"","updusrNm":"","fctSe":"수도꼭지 일반","inspctYear":2019,"inspctMt":2,"suplyFltpltNm":"광교정수장","fctLc":"경기도 수원시","colctDe":"2019-01-14","ttclnes":"3","ttclfms":"불검출","fcclfms":"불검출","nh3n":"0","cu":"0","zn":"0.007","cl":"21.4","fe":"0","mn":"0","recl":"0.52"},
	{"UUID":"4e1ca429-81d5-4034-91be-4d30d8913d4c","inputDt":"2019-11-28 09:48:36.202669","registerNm":"","updtDt":"","updusrNm":"","fctSe":"수도꼭지 일반","inspctYear":2019,"inspctMt":2,"suplyFltpltNm":"판교정수장","fctLc":"경기도 성남시","colctDe":"2019-01-14","ttclnes":"0","ttclfms":"불검출","fcclfms":"검출","nh3n":"0","cu":"0","zn":"0.011","cl":"19.5","fe":"0","mn":"0","recl":"0.60"},
	{"UUID":"1947ea63-2996-4f7c-8ca0-a61c3ec3c751","inputDt":"2019-12-02 15:14:05.134621","registerNm":"","updtDt":"","updusrNm":"","fctSe":"수도꼭지 일반","inspctYear":2019,"inspctMt":1,"suplyFltpltNm":"광교정수장","fctLc":"경기도 수원시","colctDe":"2019-01-14","ttclnes":"0","ttclfms":"불검출","fcclfms":"불검출","nh3n":"0","cu":"0","zn":"0.007","cl":"20.4","fe":"0","mn":"0","recl":"0.40"},
	{"UUID":"5863ad94-5e00-4560-8074-d7eb3dc706c9","inputDt":"2019-12-02 15:14:05.134621","registerNm":"","updtDt":"","updusrNm":"","fctSe":"수도꼭지 노후","inspctYear":2019,"inspctMt":2,"suplyFltpltNm":"비산정수장","fctLc":"경기도 안양시","colctDe":"2019-02-16","ttclnes":"0","ttclfms":"불검출","fcclfms":"불검출","nh3n":"0","cu":"0","zn":"0.002","cl":"19.2","fe":"0","mn":"0","recl":"0.65"},
	{"UUID":"09aafed7-9324-4351-aa2d-f383e6b2f962","inputDt":"2019-12-02 15:14:05.134621","registerNm":"","updtDt":"","updusrNm":"","fctSe":"수도꼭지 노후","inspctYear":2019,"inspctMt":2,"suplyFltpltNm":"광교정수장","fctLc":"경기도 수원시","colctDe":"2019-02-16","ttclnes":"0","ttclfms":"불검출","fcclfms":"불검출","nh3n":"0","cu":"0","zn":"0.003","cl":"20.0","fe":"0","mn":"0","recl":"0.40"},
	{"UUID":"cd5b608e-3e45-40cf-bb3e-809053ded38e","inputDt":"2019-12-02 15:14:05.134621","registerNm":"","updtDt":"","updusrNm":"","fctSe":"수도꼭지 일반","inspctYear":2019,"inspctMt":3,"suplyFltpltNm":"광교정수장","fctLc":"경기도 수원시","colctDe":"2019-03-15","ttclnes":"0","ttclfms":"불검출","fcclfms":"불검출","nh3n":"0","cu":"0","zn":"0.004","cl":"20.1","fe":"0","mn":"0","recl":"0.67"},
	{"UUID":"a2f833be-9b4e-47d8-9f50-9b714db0a6f3","inputDt":"2019-12-02 15:14:05.134621","registerNm":"","updtDt":"","updusrNm":"","fctSe":"수도꼭지 노후","inspctYear":2019,"inspctMt":4,"suplyFltpltNm":"광교정수장","fctLc":"경기도 수원시","colctDe":"2019-04-17","ttclnes":"0","ttclfms":"불검출","fcclfms":"불검출","nh3n":"0","cu":"0","zn":"0.005","cl":"28.9","fe":"0","mn":"0","recl":"0.27"},
	{"UUID":"4bae8c1b-39fe-4f23-9b9f-d3e396ce4ff5","inputDt":"2019-12-02 15:14:05.134621","registerNm":"","updtDt":"","updusrNm":"","fctSe":"수도꼭지 일반","inspctYear":2019,"inspctMt":5,"suplyFltpltNm":"비산정수장","fctLc":"경기도 안양시","colctDe":"2019-05-03","ttclnes":"0","ttclfms":"불검출","fcclfms":"불검출","nh3n":"0","cu":"0","zn":"0.006","cl":"30.8","fe":"0","mn":"0","recl":"0.37"},
	{"UUID":"2d7d4c3b-1cf4-4e5d-8e4c-f161cb0d9005","inputDt":"2019-12-02 15:14:05.134621","registerNm":"","updtDt":"","updusrNm":"","fctSe":"수도꼭지 노후","inspctYear":2019,"inspctMt":5,"suplyFltpltNm":"광교정수장","fctLc":"경기도 수원시","colctDe":"2019-05-03","ttclnes":"0","ttclfms":"불검출","fcclfms":"불검출","nh3n":"0","cu":"0","zn":"0.007","cl":"14.7","fe":"0","mn":"0","recl":"0.44"}
];
//var jsonKeys=["nh3n","cu","zn","cl","fe","mn","recl"];
//var jsonNames=["암모니아성질소","동","아연","염소이온","철","망간","잔류염소"];
var jsonKeys=["nh3n","cu","zn","fe","mn","recl"];
var jsonNames=["암모니아성질소","동","아연","철","망간","잔류염소"];
/*
$(document).ready(function(){

	drawChart('chart01', 'line', jsonObject, jsonKeys, jsonNames);
});
*/
function drawChart(div, type, chartName ,json, jsonKeys, jsonNames){
	var to = '#'+div;
	var i = 0;
	while(i < jsonKeys.length){
		//jsonObject = jsonObject.replace(jsonKeys[i],jsonNames[i]);
		json = JSON.parse(JSON.stringify(json).split("\""+jsonKeys[i]+"\":").join("\""+jsonNames[i]+"\":"));
		//document.write(JSON.stringify(jsonObject));
		i++;
	}
	var chart = c3.generate({
	    bindto: to,
	    data: {
	      json : json,
	      keys : {
	    	  value: jsonNames
	      },
	      type: type
	    },
	    title:{
	    	text: chartName,
	    	postion: 'top-center' //top-left, top-center, top-right
	    }
	});
}

function exportChartToPng(chartID){
	//fix weird back fill
	d3.select('#'+chartID).selectAll("path").attr("fill", "none");
	//fix no axes
	d3.select('#'+chartID).selectAll("path.domain").attr("stroke", "black");
	//fix no tick
	d3.select('#'+chartID).selectAll(".tick line").attr("stroke", "black");
	d3.select('#'+chartID).selectAll("g text").style("font-weight","bold");
	
	var svgElement = $('#'+chartID).find('svg')[0];
	saveSvgAsPng(svgElement, chartID+'.png');
}

